#!/bin/bash

# Development environment setup
# Source this file to add dev-cli commands to your PATH

# Get the directory of this script
DEV_ENV_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Add SBT to PATH
export PATH="$DEV_ENV_DIR/sbt/bin:$PATH"

# Add project root to PATH so 'dev' command is available
export PATH="$DEV_ENV_DIR:$PATH"

# Set JAVA_HOME if not already set
if [ -z "$JAVA_HOME" ]; then
    if [ -d "/usr/lib/jvm/temurin-17-jdk-amd64" ]; then
        export JAVA_HOME="/usr/lib/jvm/temurin-17-jdk-amd64"
    fi
fi

# Helpful aliases for development
alias dev-run='dev run'
alias dev-build='dev build'
alias dev-test='dev test'
alias sbt-clean='sbt clean'
alias sbt-compile='sbt compile'

echo "Development environment loaded!"
echo "Available commands:"
echo "  dev run [name]    - Run hello-world application"
echo "  dev build         - Build all subprojects" 
echo "  dev test          - Run all tests"
echo "  sbt              - Run SBT directly"
echo ""
echo "Or use aliases: dev-run, dev-build, dev-test"